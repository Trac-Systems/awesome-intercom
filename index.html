<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>P2P Focus Timer - Trac Network</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      background: #0a0a0a;
      color: #fff;
      font-family: 'Courier New', monospace;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
    }
    .logo {
      font-size: 14px;
      color: #ff6b00;
      letter-spacing: 4px;
      margin-bottom: 10px;
    }
    h1 {
      font-size: 28px;
      color: #ff6b00;
      margin-bottom: 5px;
    }
    .subtitle {
      font-size: 12px;
      color: #555;
      margin-bottom: 40px;
      letter-spacing: 2px;
    }
    .timer-box {
      background: #111;
      border: 2px solid #ff6b00;
      border-radius: 20px;
      padding: 50px 60px;
      text-align: center;
      box-shadow: 0 0 40px rgba(255,107,0,0.2);
    }
    .mode-label {
      font-size: 13px;
      letter-spacing: 3px;
      color: #ff6b00;
      margin-bottom: 20px;
    }
    .timer {
      font-size: 90px;
      font-weight: bold;
      color: #fff;
      letter-spacing: 5px;
      margin-bottom: 30px;
    }
    .timer.break { color: #00ffaa; }
    .buttons {
      display: flex;
      gap: 15px;
      justify-content: center;
      margin-bottom: 30px;
    }
    button {
      padding: 12px 28px;
      border: none;
      border-radius: 8px;
      font-size: 14px;
      font-family: 'Courier New', monospace;
      cursor: pointer;
      letter-spacing: 2px;
      transition: all 0.2s;
    }
    #startBtn {
      background: #ff6b00;
      color: #000;
      font-weight: bold;
    }
    #startBtn:hover { background: #ff8c00; }
    #resetBtn {
      background: #222;
      color: #fff;
      border: 1px solid #333;
    }
    #resetBtn:hover { background: #333; }
    .mode-buttons {
      display: flex;
      gap: 10px;
      justify-content: center;
      margin-bottom: 20px;
    }
    .mode-btn {
      padding: 8px 18px;
      border-radius: 6px;
      font-size: 12px;
      background: #1a1a1a;
      color: #777;
      border: 1px solid #333;
      letter-spacing: 1px;
    }
    .mode-btn.active {
      background: #ff6b00;
      color: #000;
      font-weight: bold;
      border-color: #ff6b00;
    }
    .sessions {
      font-size: 12px;
      color: #555;
      letter-spacing: 2px;
    }
    .sessions span { color: #ff6b00; }
    .trac-footer {
      margin-top: 40px;
      font-size: 11px;
      color: #333;
      letter-spacing: 2px;
    }
    .trac-footer a {
      color: #ff6b00;
      text-decoration: none;
    }
    .progress-bar {
      width: 100%;
      height: 4px;
      background: #222;
      border-radius: 2px;
      margin-bottom: 25px;
      overflow: hidden;
    }
    .progress-fill {
      height: 100%;
      background: #ff6b00;
      border-radius: 2px;
      transition: width 1s linear;
      width: 100%;
    }
    .progress-fill.break { background: #00ffaa; }
  </style>
</head>
<body>

  <div class="logo">â¬¡ TRAC NETWORK</div>
  <h1>P2P Focus Timer</h1>
  <p class="subtitle">BUILT ON INTERCOMSWAP Â· STAY FOCUSED Â· EARN MORE</p>

  <div class="timer-box">
    <div class="mode-buttons">
      <button class="mode-btn active" onclick="setMode('focus', 25)">FOCUS</button>
      <button class="mode-btn" onclick="setMode('short', 5)">SHORT BREAK</button>
      <button class="mode-btn" onclick="setMode('long', 15)">LONG BREAK</button>
    </div>

    <div class="mode-label" id="modeLabel">ðŸ”¥ FOCUS SESSION</div>
    <div class="timer" id="timer">25:00</div>

    <div class="progress-bar">
      <div class="progress-fill" id="progressFill"></div>
    </div>

    <div class="buttons">
      <button id="startBtn" onclick="toggleTimer()">START</button>
      <button id="resetBtn" onclick="resetTimer()">RESET</button>
    </div>

    <div class="sessions">SESSIONS COMPLETED: <span id="sessionCount">0</span></div>
  </div>

  <div class="trac-footer">
    P2P Focus Timer Â· <a href="https://github.com/Trac-Systems/intercom-swap" target="_blank">IntercomSwap</a> Â· Trac Network
  </div>

  <script>
    let totalSeconds = 25 * 60;
    let remainingSeconds = totalSeconds;
    let timerInterval = null;
    let isRunning = false;
    let sessionCount = 0;
    let currentMode = 'focus';

    function setMode(mode, minutes) {
      clearInterval(timerInterval);
      isRunning = false;
      currentMode = mode;
      totalSeconds = minutes * 60;
      remainingSeconds = totalSeconds;
      document.getElementById('startBtn').textContent = 'START';

      const labels = {
        focus: 'ðŸ”¥ FOCUS SESSION',
        short: 'â˜• SHORT BREAK',
        long: 'ðŸŒ™ LONG BREAK'
      };
      document.getElementById('modeLabel').textContent = labels[mode];

      const timerEl = document.getElementById('timer');
      const fillEl = document.getElementById('progressFill');
      timerEl.className = mode === 'focus' ? 'timer' : 'timer break';
      fillEl.className = mode === 'focus' ? 'progress-fill' : 'progress-fill break';

      document.querySelectorAll('.mode-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');

      updateDisplay();
    }

    function toggleTimer() {
      if (isRunning) {
        clearInterval(timerInterval);
        isRunning = false;
        document.getElementById('startBtn').textContent = 'RESUME';
      } else {
        isRunning = true;
        document.getElementById('startBtn').textContent = 'PAUSE';
        timerInterval = setInterval(() => {
          remainingSeconds--;
          updateDisplay();
          updateProgress();
          if (remainingSeconds <= 0) {
            clearInterval(timerInterval);
            isRunning = false;
            if (currentMode === 'focus') {
              sessionCount++;
              document.getElementById('sessionCount').textContent = sessionCount;
            }
            document.getElementById('startBtn').textContent = 'START';
            alert(currentMode === 'focus' ? 'âœ… Focus session done! Take a break.' : 'ðŸ”¥ Break over! Time to focus.');
          }
        }, 1000);
      }
    }

    function resetTimer() {
      clearInterval(timerInterval);
      isRunning = false;
      remainingSeconds = totalSeconds;
      document.getElementById('startBtn').textContent = 'START';
      document.getElementById('progressFill').style.width = '100%';
      updateDisplay();
    }

    function updateDisplay() {
      const m = Math.floor(remainingSeconds / 60).toString().padStart(2, '0');
      const s = (remainingSeconds % 60).toString().padStart(2, '0');
      document.getElementById('timer').textContent = `${m}:${s}`;
    }

    function updateProgress() {
      const pct = (remainingSeconds / totalSeconds) * 100;
      document.getElementById('progressFill').style.width = pct + '%';
    }
  </script>

</body>
</html>
